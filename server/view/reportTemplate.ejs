<!-- <!DOCTYPE html>
<html>
<head>
  <title>PDF Report</title>
  <style>
    table { width: 100%; border-collapse: collapse; }
    th, td { border: 1px solid black; padding: 10px; }
  </style>
</head>
<body>
<div ref={ref}  className="print-container hidden   print:block">
    <div className="">
    
        <% tickets.forEach((ticket, index) => { %>
          <div
            key={index}
            className={`max-w-4xl mx-auto  p-4 `}
          >
            <div className="">
      <h2 className="text-center text-lg font-bold">
        VAMTEC MACHINES & AUTOMATION PRIVATE LIMITED
      </h2>
      <p className="text-center text-sm">
        270/4, Galaxy Company Road, Ayanambakkam, Chennai - 600 095.
      </p>
      <p className="text-center text-sm">
        Phone: 9171177915, Email: engg@vamtec.net
      </p>
      <div className="bg-green-500 text-white p-2 mt-4 text-center font-semibold">
        SERVICE REPORT
      </div>
    </div>
            {/* Ticket-specific details */}
            <table className="w-full border mt-4">
              <tbody>
                <tr>
                  <td className="border p-2 font-semibold">
                    Customer: <%= ticket.company_name %>
                  </td>
                  <td className="border p-2 font-semibold">
                    Date: <%= ticket.srf_date %>
                  </td>
                </tr>
                <tr>
                  <td className="border p-2 font-semibold">
                    Engineer Name: <%= ticket.assigned_to_name %>
                  </td>
                  <td className="border p-2 font-semibold">
                    Machine: <%= ticket.machine %>
                  </td>
                </tr>
                <tr>
                  <td className="border p-2 font-semibold">
                    Service Type: <%= ticket.service_type %>
                  </td>
                </tr>
              </tbody>
            </table>
  
            {/* Solutions Table */}
            <table className="w-full border mt-4">
              <thead className="table-header  ">
                <tr className="bg-gray-200 first-header pt-52">
                  <th className="border p-2">Sl. No.</th>
                  <th className="border p-2">Problem</th>
                  <th className="border p-2">Actions</th>
                  <th className="border p-2">Status</th>
                  <th className="border p-2">Completion Date</th>
                  <th className="border p-2">Status Remark</th>
                  <th className="border p-2">Customer Remark</th>
                </tr>
              </thead>
              <tbody>
                <% if (ticket.solutions && ticket.solutions.length > 0) { %>
                    <% ticket.solutions.forEach((solution, i) => { %>
                  
                    <tr key={solution.solution_id} className=''>
                      <td className="border p-2"><%= i + 1 %></td>
                      <td class="border p-2"><%= solution.problem %></td>
                <td class="border p-2"><%= solution.actions %></td>
                <td class="border p-2"><%= solution.status %></td>
                <td class="border p-2"><%= solution.completion_date %></td>
                <td class="border p-2"><%= solution.status_remark %></td>
                <td class="border p-2"><%= solution.customer_remark %></td>
                    </tr>
                    <% }); %>
                    <% } else { %>
                      <tr>
                        <td colspan="7" class="border p-2 text-center">No solutions recorded</td>
                      </tr>
                    <% } %>
              </tbody>
            </table>
            <div className="mt-4 border p-4">
              <p className="font-semibold">Customer's Comment:</p>
              <p><%= ticket.customer_comment %>.</p>
          </div>
          
          <div className="mt-4">
              <table className="w-full border">
                  <tr>
                      <th className="border p-2">Contact Person Name</th>
                      <th className="border p-2">Reporting</th>
                      <th className="border p-2">Reported Time</th>
                      <th className="border p-2">Customer's Report Time</th>
                      <th rowSpan={3} className="border p-2 w-52 align-top "> <p className=" font-semibold">For VAMTEC Machines & Automation Pvt. Ltd</p></th>
                  </tr>
                  <tr>
                      <td rowSpan={2} className="border p-2 "><%= ticket.contact_person_name %></td>
                      <td className="border p-2">In</td>
                      <td className="border p-2"><%= ticket.actf_in_time %></td>
                      <td className="border p-2"><%= ticket.customerf_in_time %></td>
                  </tr>
                  <tr>
                      <td className="border p-2">Out</td>
                      <td className="border p-2"><%= ticket.actf_out_time %></td>
                      <td className="border p-2"><%= ticket.customerf_out_time %></td>
                  </tr>
              </table>
          </div>
          </div>
          <hr style="margin: 40px 0;">
          <% }); %>
    </div>
  </div>
</body>
</html> -->

<!DOCTYPE html>
<html>
<head>
  <title>PDF Report</title>
  <style>
    table { width: 100%; border-collapse: collapse; }
    th, td { border: 1px solid black; padding: 10px; }
    .text-center { text-align: center; }
    .font-bold { font-weight: bold; }
    .font-semibold { font-weight: 600; }
    .bg-green { background-color: #48bb78; color: white; }
    .mt-4 { margin-top: 1rem; }
    .p-2 { padding: 0.5rem; }
    .p-4 { padding: 1rem; }
    .border { border: 1px solid black; }
  </style>
</head>
<body>

<div style ="padding:8px">
  <% tickets.forEach((ticket, index) => { %>
    <div>
      <h2 class="text-center font-bold">
        VAMTEC MACHINES & AUTOMATION PRIVATE LIMITED
      </h2>
      <p class="text-center">270/4, Galaxy Company Road, Ayanambakkam, Chennai - 600 095.</p>
      <p class="text-center">Phone: 9171177915, Email: engg@vamtec.net</p>
      <div class="bg-green p-2 mt-4 text-center font-semibold">SERVICE REPORT</div>

      <!-- Ticket Info Table -->
      <table class="w-full border mt-4">
        <tr>
          <td class="border p-2 font-semibold">Customer: <%= ticket.company_name %></td>
          <td class="border p-2 font-semibold">Date: <%= ticket.srf_date %></td>
        </tr>
        <tr>
          <td class="border p-2 font-semibold">Engineer Name: <%= ticket.assigned_to_name %></td>
          <td class="border p-2 font-semibold">Machine: <%= ticket.machine %></td>
        </tr>
        <tr>
          <td class="border p-2 font-semibold" colspan="2">Service Type: <%= getServiceType(ticket.service_type) %></td>
        </tr>
      </table>

      <!-- Solutions Table -->
      <table class="w-full border mt-4">
        <thead>
          <tr style="background-color:#e2e8f0;">
            <th class="border p-2">Sl. No.</th>
            <th class="border p-2">Problem</th>
            <th class="border p-2">Actions</th>
            <th class="border p-2">Status</th>
            <th class="border p-2">Completion Date</th>
            <th class="border p-2">Status Remark</th>
            <th class="border p-2">Customer Remark</th>
          </tr>
        </thead>
        <tbody>
          <% if (ticket.solutions && ticket.solutions.length > 0) { %>
            <% ticket.solutions.forEach((solution, i) => { %>
              <tr>
                <td class="border p-2"><%= i + 1 %></td>
                <td class="border p-2"><%= solution.problem %></td>
                <td class="border p-2"><%= solution.actions %></td>
                <td class="border p-2"><%= getStatus(solution.status) %></td>
                <td class="border p-2"><%= solution.completion_date %></td>
                <td class="border p-2"><%= solution.status_remark %></td>
                <td class="border p-2"><%= solution.customer_remark %></td>
              </tr>
            <% }); %>
          <% } else { %>
            <tr>
              <td colspan="7" class="border p-2 text-center">No solutions recorded</td>
            </tr>
          <% } %>
        </tbody>
      </table>

      <!-- Customer Comment -->
      <div class="mt-4 border p-4">
        <p class="font-semibold">Customer's Comment:</p>
        <p><%= ticket.customer_comment %></p>
      </div>

      <!-- Footer Table -->
      <div class="mt-4">
        <table class="w-full border">
          <tr>
            <th class="border p-2">Contact Person Name</th>
            <th class="border p-2">Reporting</th>
            <th class="border p-2">Reported Time</th>
            <th class="border p-2">Customer's Report Time</th>
            <th class="border p-2" rowspan="3" style="vertical-align: top; width: 200px;">
              <p class="font-semibold">For VAMTEC Machines & Automation Pvt. Ltd</p>
            </th>
          </tr>
          <tr>
            <td class="border p-2" rowspan="2"><%= ticket.contact_person_name %></td>
            <td class="border p-2">In</td>
            <td class="border p-2"><%= ticket.actf_in_time %></td>
            <td class="border p-2"><%= ticket.customerf_in_time %></td>
          </tr>
          <tr>
            <td class="border p-2">Out</td>
            <td class="border p-2"><%= ticket.actf_out_time %></td>
            <td class="border p-2"><%= ticket.customerf_out_time %></td>
          </tr>
        </table>
      </div>

    </div>
    <hr style="margin: 40px 0;">
  <% }); %>
</div>

</body>
</html>
